# PID-X: 세계 최초 AI 기반 P&ID 공정관리 SaaS 플랫폼

## 0. Index vs Full P&ID: 입력 데이터 분석 결과

### 두 문서의 비교

| 항목 | Index (대아-P&ID-index.pdf) | Full (대아-P&ID_full.pdf) |
|------|---------------------------|--------------------------|
| **페이지 수** | 3장 | 417장 |
| **파일 크기** | 2.0 MB | 148.8 MB |
| **텍스트 추출** | 불가 (이미지 전용) | 가능 (페이지당 5,000~20,000자) |
| **콘텐츠 유형** | 목차/심볼 정의/도면 리스트 | 실제 프로세스 P&ID 도면 전체 |
| **장비 태그** | 확인 불가 | **9,159개** 고유 태그 |
| **배관 라인** | 확인 불가 | **7,158개** 고유 라인번호 |
| **배관 사이즈** | 확인 불가 | **27종** (1"~56") |
| **Hydro Test Package** | 없음 | **1,471개** 패키지 (압력/매체 포함) |
| **계장 태그** | 심볼 정의만 | **491개** 실제 태그 (FI, PI, TI, LI, AI 등) |
| **도면 번호** | 목록만 | **277개** 실제 도면 내용 |
| **Revision/Markup** | 없음 | **전 417페이지 Red-Line Markup** (2A→2C→2D) |
| **Golden Joint** | 없음 | **17개 페이지**에서 Golden Joint 표시 |
| **Test Medium 정보** | 없음 | H(수압):949, V(진공):430, P(공압):79, S:3 |

### 결론: 반드시 **전체 문서**를 올려야 한다

```
Index만 올리면 알 수 있는 것:          Full을 올리면 추가로 알 수 있는 것:
─────────────────────────           ──────────────────────────────────
✅ 도면 목록 (제목만)                 ✅ 실제 배관 라인번호 7,158개 전체
✅ 심볼 범례 정의                     ✅ 장비 태그 9,159개 + 연결관계
✅ General Notes 텍스트               ✅ 배관 사이즈 1"~56" 분포
                                      ✅ Hydro Test 패키지 1,471개 상세
                                      ✅ 시험 압력, 시험 매체 (H/V/P/S)
                                      ✅ Golden Joint 위치
                                      ✅ Red-Line 변경사항 추적
                                      ✅ 장비간 배관 연결 Flow
                                      ✅ 계장 루프 상세
                                      ✅ 밸브 종류/위치
                                      ✅ 도면간 Continuation 연결
                                      ✅ 색상별 Test Boundary 구분
```

> **Index는 "책의 목차"이고, Full은 "책 본문 전체"이다.**
> 목차만으로는 배관 사이즈 추출도, 공정 프로그램 작성도, MTO도 불가능하다.
> PID-X 플랫폼은 **Full P&ID를 기본 입력**으로 설계해야 한다.

### 전체 문서 분석에서 발견된 실제 데이터 규모

```
PKN ORLEN Olefins Expansion Project - Steam Cracker Unit-2000
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
도면 수:      277개 (Unit-2000, 2100, 2200, 2500, 2600, 4400)
장비 태그:    9,159개
배관 라인:    7,158개
계장 태그:    491개
시험 패키지:  1,471개

시스템별 Test Package 분포 (상위 10):
  Process(P):     335개    Vent(VT):     201개
  Safety Valve(SV): 141개  Knockout(KP): 129개
  Liquid Coll.(LC): 56개   Blowdown(BB):  56개
  Liquid Sep.(LS):  47개   Process Relief: 46개
  Drain/Flare(DF):  38개   Nitrogen(PN):   38개

배관 사이즈 분포: 1", 2", 3", 4", 5", 6", 7", 8", 10", 12",
                 14", 15", 16", 18", 20", 24", 26", 30",
                 36", 42", 44", 45", 48", 50", 54", 56"

시험 매체 분포:
  Hydrostatic(H): 949개 (65%)  |  Vacuum(V): 430개 (29%)
  Pneumatic(P):    79개 (5%)   |  Special(S):   3개 (0.2%)
```

### 이 발견이 PID-X 설계에 미치는 영향

전체 문서 분석 결과, 기존 idea.md에서 **가정**으로 작성했던 기능들이 **실제 데이터**로 검증되었고, 다음 **6개 신규 모듈**이 추가로 필요함이 확인되었다:

| # | 신규 모듈 | 근거 (Full에서 발견) | 기존 idea에 있었는가? |
|---|----------|---------------------|---------------------|
| 1 | **Hydro Test Package 관리** | 1,471개 패키지, 압력/매체 데이터 | 언급만 됨, 상세 없음 |
| 2 | **Red-Line Markup 추적** | 전 417페이지 Rev.2A→2C→2D 변경 | 없음 (신규) |
| 3 | **Golden Joint 관리** | 17개 페이지에 Golden Joint 표시 | 없음 (신규) |
| 4 | **Test Boundary 시각화** | 색상별 시험 경계 구분 (실제 도면 확인) | 없음 (신규) |
| 5 | **다중 유닛 통합 관리** | 6개 유닛(2000~4400) 교차 참조 | 없음 (신규) |
| 6 | **대용량 처리 엔진** | 417페이지/149MB 단일 파일 처리 필요 | 과소평가됨 |

---

## 1. 프로젝트 비전

> **"P&ID 도면 한 장에서 시작하여, 배관 설계 - 자재 관리 - 현장 시공 - 공정 스케줄까지 원스톱으로 해결하는 세계 최초의 AI 기반 플랫폼"**

30년 경력의 프로세스 엔지니어가 수작업으로 하루 걸리던 P&ID 분석, 배관 사이즈 추출, 공정 프로그램 작성, 엑셀 보고서 생성을 **5분 안에 자동 완료**하는 시스템.

---

## 2. 문제 정의 (Pain Points)

### 2.1 현재 업계의 문제점

| 문제 | 현재 방식 | 소요 시간 | 리스크 |
|------|----------|----------|--------|
| P&ID 도면 분석 | 수작업으로 도면을 한 장씩 읽으며 분석 | 수일~수주 | 누락, 오독, 해석 차이 |
| 배관 사이즈 추출 | 도면에서 눈으로 확인하여 수기 기록 | 수시간/도면 | 기록 오류, 버전 불일치 |
| Line List 작성 | 엔지니어가 수동으로 엑셀 정리 | 수일 | 중복, 누락 |
| 공정 스케줄 작성 | MS Project/Primavera 별도 입력 | 수주 | P&ID와 연동 불가 |
| 자재 발주(MTO) | 도면 기반 수작업 물량 산출 | 수주 | 과다/과소 발주 |
| 현장 시공 관리 | 별도 시스템 또는 종이 문서 | 상시 | 실시간 추적 불가 |
| 도면 버전 관리 | 파일 서버 + 수작업 | 상시 | 최신본 혼동 |

### 2.2 기존 솔루션의 한계

- **SmartPlant P&ID (Intergraph/Hexagon)**: 고가, 설계 전용, 시공 관리 미지원
- **AutoCAD P&ID**: 2D 설계 도구에 불과, 데이터 추출 제한적
- **Primavera/MS Project**: 공정 관리 전용, P&ID 연동 불가
- **SAP/Oracle**: ERP 수준, P&ID 특화 기능 없음

**핵심 공백**: P&ID 도면에서 데이터를 자동 추출하여 → 설계 검증 → 자재 관리 → 시공 관리 → 공정 스케줄까지 **하나의 플랫폼**에서 처리하는 솔루션이 전 세계에 없다.

---

## 3. 솔루션 개요: PID-X 플랫폼

### 3.1 핵심 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                    PID-X Cloud Platform                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐ │
│  │  AI OCR  │──▶│ Data     │──▶│ Process  │──▶│ Report   │ │
│  │  Engine  │   │ Manager  │   │ Scheduler│   │ Generator│ │
│  └──────────┘   └──────────┘   └──────────┘   └──────────┘ │
│       │              │              │              │         │
│       ▼              ▼              ▼              ▼         │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              Unified P&ID Database                    │   │
│  │  (Equipment, Piping, Instruments, Valves, Fittings)  │   │
│  └──────────────────────────────────────────────────────┘   │
│       │              │              │              │         │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐ │
│  │  Line    │   │  MTO     │   │  Field   │   │ Dashboard│ │
│  │  List    │   │  Module  │   │  Mgmt    │   │ & BI     │ │
│  └──────────┘   └──────────┘   └──────────┘   └──────────┘ │
│                                                              │
├─────────────────────────────────────────────────────────────┤
│  Web App  │  Mobile App  │  API  │  Excel/PDF Export        │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 기술 스택 제안

| 레이어 | 기술 | 선택 이유 |
|--------|------|----------|
| Frontend + API | Next.js 15 + TypeScript | SSR/CSR, Route Handlers, 단일 언어 |
| P&ID Viewer | react-pdf (PDF.js) | 클라이언트 사이드 PDF 렌더링, 줌/팬 |
| Database | Supabase PostgreSQL + RLS | 관리형 DB, Row Level Security, Realtime |
| 인증 | Supabase Auth | Email/PW, Google OAuth, 자동 세션 관리 |
| File Storage | Supabase Storage | 대용량 도면 파일, RLS 정책 |
| AI/OCR (Phase 2) | GPT-4 Vision + Custom YOLO모델 | 도면 심볼 인식, 이미지 PDF 처리 |
| 배포 | Vercel | 자동 배포, CDN, Serverless Functions |
| PDF 파싱 | pdfjs-dist (Node.js) | 텍스트 추출, Vercel Serverless 호환 |
| 엑셀 엔진 | exceljs (Node.js) | 업계 표준 엑셀 보고서, 서식/차트 지원 |

---

## 4. 핵심 기능 모듈 (questions.md 기반)

### 4.1 Module 1: AI P&ID 자동 분석 엔진
> *questions.md Q1: "첨부 자료를 분석하고 요약해 주세요"*

**기능 상세:**

```
[PDF/DWG/이미지 업로드]
        │
        ▼
[AI OCR + Symbol Recognition]
   ├── 도면 메타데이터 추출 (프로젝트명, 도면번호, Rev.)
   ├── Equipment 인식 (펌프, 열교환기, 탱크, 반응기 등)
   ├── 배관 라인 추적 (라인번호, 사이즈, 재질, 등급)
   ├── 계장 심볼 인식 (TI, PI, FI, LI, CV 등)
   ├── 밸브 타입 분류 (게이트, 글로브, 볼, 체크 등)
   └── 노트/스펙 텍스트 추출
        │
        ▼
[자동 요약 리포트 생성]
   ├── 프로젝트 개요
   ├── Equipment List
   ├── Line Summary (총 라인 수, 사이즈 분포, 재질 분포)
   ├── Instrument Summary
   ├── 특이사항 및 주의점 (고온/고압 라인, 특수재질 등)
   └── 도면 간 연결관계 (Continuation 정보)
```

**실제 검증 - 대아 P&ID Full 417페이지 분석 결과:**
- 프로젝트: PKN ORLEN Olefins Expansion Project (KBR 라이센스 / 현대엔지니어링 상세설계)
- 유닛: Steam Cracker Unit-2000 외 5개 유닛 (2100, 2200, 2500, 2600, 4400)
- 실제 추출 데이터: 장비 9,159개, 배관 7,158개, 계장 491개, 시험패키지 1,471개
- 도면 상태: 전 페이지 Red-Line Markup (IFC → AFC → Construction Red-Line)
- Insulation Types: Hot(H), Cold(C), Personnel Protection(PP), Acoustic(A) 등
- **핵심 발견**: 텍스트 추출이 가능한 PDF에서 자동 데이터 추출 정확도가 높음

### 4.2 Module 2: 배관 사이즈 자동 추출 & Line List
> *questions.md Q2: "첨부 도면 배관 사이즈를 작성해 주세요"*

**기능 상세:**

| 추출 항목 | 설명 | 예시 |
|-----------|------|------|
| Line Number | 라인 고유 번호 | 2"-PG-1001-A1A-N |
| Nominal Size | 공칭 배관 사이즈 | 2", 4", 6", 8", 10", 12" |
| Pipe Spec/Class | 배관 등급 | A1A, B2B, C3C |
| Material | 배관 재질 | CS, SS316, Alloy |
| Insulation | 보온/보냉 종류 | Hot, Cold, PP |
| From/To | 시작/종료 장비 | E-2001 → V-2005 |
| Service | 유체 종류 | Steam, CW, Process Gas |
| Design P/T | 설계 압력/온도 | 15 barg / 350°C |
| Test Pressure | 시험 압력 | 22.5 barg |

**자동 Line List 생성 흐름:**
1. AI가 P&ID 도면에서 모든 배관 라인 자동 인식
2. 라인번호 파싱 → 사이즈, 서비스, 재질 등급 자동 분류
3. 장비 연결 관계 자동 매핑
4. Line List 테이블 자동 생성
5. 사용자 검증 후 확정

### 4.3 Module 3: 공정 프로그램 & 시공 관리
> *questions.md Q3: "현장 공사 관리를 하기 위해서 공정 프로그램을 작성해 주세요"*

**기능 상세:**

```
[P&ID 데이터 기반 자동 WBS 생성]
        │
        ▼
┌─────────────────────────────────────────┐
│         공정 관리 대시보드                 │
├─────────────────────────────────────────┤
│                                          │
│  Phase 1: 배관 Prefab (사전제작)         │
│  ├── Spool Drawing 생성                 │
│  ├── 자재 확인 (MTO 연동)               │
│  ├── 용접 WPS/PQR 매칭                  │
│  └── Prefab 진도율: ████████░░ 80%      │
│                                          │
│  Phase 2: 배관 설치 (Erection)           │
│  ├── Support 설치                        │
│  ├── Pipe Routing 시공                   │
│  ├── Fit-up 검사                         │
│  └── 설치 진도율: █████░░░░░ 50%        │
│                                          │
│  Phase 3: 용접 & 검사                    │
│  ├── 용접 작업                           │
│  ├── RT/UT/PT/MT 검사                   │
│  ├── PWHT (후열처리)                     │
│  └── 용접 진도율: ███░░░░░░░ 30%        │
│                                          │
│  Phase 4: 수압 시험 & 완료               │
│  ├── Hydro Test Package                 │
│  ├── Reinstatement                       │
│  ├── Punch List 관리                     │
│  └── 시험 진도율: █░░░░░░░░░ 10%        │
│                                          │
│  [Gantt Chart] [Critical Path] [S-Curve] │
└─────────────────────────────────────────┘
```

**핵심 기능:**
- P&ID 기반 자동 WBS(Work Breakdown Structure) 생성
- 시스템별/라인별/장비별 공정 스케줄 자동 생성
- Gantt Chart + Critical Path Method (CPM) 분석
- S-Curve (계획 vs 실적) 자동 생성
- 일일/주간/월간 진도 보고서 자동 생성
- 선행 공정 의존관계 자동 설정 (P&ID 연결 기반)

### 4.4 Module 4: 다양한 포맷 보고서 출력
> *questions.md Q4: "엑셀 양식으로 출력해 주세요"*

**지원 출력 형식:**

| 보고서 유형 | 출력 포맷 | 내용 |
|-------------|----------|------|
| Line List | Excel (.xlsx) | 전체 배관 목록, 사이즈, 재질, 스펙 |
| Equipment List | Excel / PDF | 장비 목록, 태그, 사양 |
| MTO (Material Take-Off) | Excel | 자재 물량 산출서 |
| Valve List | Excel | 밸브 종류, 사이즈, 등급 |
| Instrument List | Excel | 계장 기기 목록 |
| Weld Map | Excel / PDF | 용접 위치, WPS, 검사 방법 |
| Hydro Test Package | PDF | 수압 시험 범위, 압력 |
| 공정표 | Excel / MS Project | Gantt Chart, S-Curve |
| 일일 보고서 | PDF / Excel | 당일 진도, 인력, 이슈 |
| Punch List | Excel | 미완료 항목, 담당자, 기한 |

**엑셀 출력 특화 기능:**
- 업계 표준 양식 템플릿 내장 (삼성엔지니어링, 현대건설, 대림산업 등)
- 사용자 커스텀 템플릿 등록 기능
- 다국어 지원 (한국어, 영어, 아랍어 등)
- 자동 셀 서식, 조건부 서식, 차트 포함
- 원클릭 출력 → 이메일 자동 발송

---

## 5. 차별화 고급 기능

### 5.0 [신규] Full P&ID 분석에서 발견된 필수 모듈 6종

#### Module 5: Hydro Test Package 관리 시스템
> Full 문서에서 **1,471개** 시험 패키지 발견. 현장 시공의 핵심 관리 단위.

```
[P&ID에서 자동 추출]
 ├── Package No.: 2000E-P-0003
 ├── Test Pressure: 21 Bar
 ├── Test Medium: H (Hydrostatic)
 ├── 포함 라인: 6"-P-0031, 4"-P-0032, ...
 └── 포함 장비: E-2003, V-2005
        │
        ▼
┌─────────────────────────────────────────────┐
│      Hydro Test Package Dashboard            │
├─────────────────────────────────────────────┤
│                                              │
│  시스템별 현황:                               │
│  Process(P):    ████████████ 335 (23%)       │
│  Vent(VT):      ████████   201 (14%)        │
│  Safety(SV):    █████      141 (10%)        │
│  Knockout(KP):  █████      129 (9%)         │
│  기타:          ████████████████ 665 (44%)   │
│                                              │
│  시험 매체별:                                 │
│  Hydro(H):  ████████████████████ 949 (65%)  │
│  Vacuum(V): ██████████         430 (29%)    │
│  Pneum(P):  ██                  79 (5%)     │
│                                              │
│  진도: 완료 ███░░░░░░░ 312/1,471 (21%)      │
│                                              │
│  [패키지 상세] [시험 성적서] [Punch List]      │
└─────────────────────────────────────────────┘
```

**왜 중요한가**: 수압시험은 배관 시공의 최종 품질 관문. 1,471개 패키지를 수작업으로 관리하면 누락 필연적.

#### Module 6: Red-Line Markup 변경 추적
> Full 문서 전 417페이지에 Red-Line 표시 발견. Rev.0 → 2A → 2C → 2D 추적 필요.

```
변경 추적 시스템:
 ├── Rev.0  (24-FEB-23)  ISSUED FOR CONSTRUCTION
 ├── Rev.2A (19-APR-24)  ISSUED FOR CONSTRUCTION (RED-LINE MARK-UP)
 ├── Rev.2C (13-DEC-24)  ISSUED FOR CONSTRUCTION (RED-LINE MARK-UP)
 └── Rev.2D (24-JAN-25)  ISSUED FOR CONSTRUCTION (RED-LINE MARK-UP)

기능:
 ├── 도면 버전간 자동 비교 (Diff 뷰)
 ├── 변경된 라인/장비/밸브 자동 하이라이트
 ├── 변경 사유 연결 (CN-2829 등 Change Notice 번호)
 ├── 영향 받는 시험 패키지 자동 식별
 └── "변경사항 없으므로 2C 미제출" 같은 스킵 사유 관리
```

**왜 중요한가**: 실제 현장에서 "어떤 Rev가 최신인지", "뭐가 바뀌었는지" 혼란이 가장 큰 리스크.

#### Module 7: Golden Joint 관리
> Full 문서 17개 페이지에서 Golden Joint 표시 발견.

```
Golden Joint = 시스템 연결 최종 용접점 (Pre-commissioning 직전 완료)

관리 항목:
 ├── 위치 (어떤 라인, 어떤 장비 사이)
 ├── 관련 Test Package
 ├── 용접 WPS/PQR
 ├── NDE 검사 결과 (RT/UT 필수)
 ├── PWHT 필요 여부
 └── 상태: 대기 → 용접완료 → 검사완료 → 승인
```

**왜 중요한가**: Golden Joint 하나가 지연되면 전체 시스템 커미셔닝이 지연됨. Critical Path 아이템.

#### Module 8: Test Boundary 시각화
> Full 문서 page 201에서 색상별(빨강/파랑/초록/분홍/노랑) 시험 경계 확인.

```
기능:
 ├── P&ID 위에 Test Package 경계를 색상 오버레이
 ├── 패키지 선택 시 → 해당 범위 하이라이트
 ├── 경계 겹침/누락 자동 검출
 ├── Blind/Isolation point 자동 표시
 └── 시험 순서 최적화 제안 (의존관계 기반)
```

**왜 중요한가**: 현장에서 시험 범위를 P&ID 위에 수작업으로 색칠하는 것이 현실. 이를 디지털화.

#### Module 9: 다중 유닛 통합 관리
> Full 문서에서 6개 유닛 교차 참조 확인 (2000, 2100, 2200, 2500, 2600, 4400).

```
Unit-2000 (Steam Cracker) ←→ Unit-2100 (Furnace Section)
        ↕                            ↕
Unit-2200 (FCC/CGO)        Unit-2500 (Water Related)
        ↕                            ↕
Unit-2600 (Utilities)      Unit-4400 (OSBL Tie-in)

기능:
 ├── 유닛간 Tie-in Point 자동 매핑
 ├── 크로스 유닛 배관 추적
 ├── 유닛별 독립 진도 + 통합 진도
 └── ISBL/OSBL 경계 관리
```

**왜 중요한가**: 대형 프로젝트는 여러 유닛이 병렬 시공. 유닛간 인터페이스 관리가 핵심.

#### Module 10: 대용량 처리 엔진
> 단일 파일 149MB, 417페이지 처리 성능 필수.

```
성능 요구사항 (Full P&ID 기준):
 ├── 업로드: 150MB PDF → 5분 이내 처리 완료
 ├── 텍스트 추출: 417페이지 × 평균 8,000자 = 3.3M 문자
 ├── 심볼 인식: 페이지당 최대 326개 장비 태그
 ├── 동시 처리: 10개 프로젝트 병렬 분석
 └── 실시간 뷰어: 417페이지 즉시 네비게이션

기술 전략:
 ├── 페이지 단위 병렬 처리 (Worker Pool)
 ├── 타일 기반 렌더링 (대형 도면 줌/팬)
 ├── 증분 분석 (변경된 페이지만 재처리)
 └── CDN 기반 도면 캐싱
```

### 5.1 AI 설계 검증 (Design Validation)
```
P&ID 업로드 → AI 자동 검증 수행:
  ✅ 배관 사이즈 적정성 검토 (유속 계산 기반)
  ✅ 밸브 선정 적정성 확인
  ✅ 안전밸브(PSV) 설치 여부 확인
  ✅ 드레인/벤트 포인트 확인
  ✅ 계장 루프 완결성 검증
  ✅ 배관 등급(Spec Break) 확인
  ⚠️ 누락/오류 항목 자동 하이라이트
  ⚠️ 국제 코드 준수 여부 (ASME, API, KS)
```

### 5.2 디지털 트윈 연동
- P&ID → 3D 모델 자동 생성 (개념 수준)
- 실시간 현장 진도를 3D 모델에 반영
- IoT 센서 연동 → 운전 데이터 실시간 모니터링

### 5.3 AI 챗봇 어시스턴트 (엔지니어 코파일럿)
```
사용자: "2인치 스팀라인 재질이 뭐야?"
AI: "Line 2"-SG-2001-A1A의 재질은 A106 Gr.B (Carbon Steel)이며,
     설계온도 350°C, 설계압력 15 barg입니다."

사용자: "이번 프로젝트에서 4인치 이상 배관 총 몇 라인이야?"
AI: "4인치 이상 배관은 총 127개 라인이며, 사이즈별 분포는:
     4": 45개, 6": 32개, 8": 28개, 10": 15개, 12"+: 7개입니다."

사용자: "다음 주 용접 검사 일정 잡아줘"
AI: "다음 주 RT 검사 대상은 23개 조인트이며, 검사 가능 일정을
     캘린더에 등록했습니다. 검사관 배정이 필요합니다."
```

### 5.4 협업 & 권한 관리
- 역할별 접근 권한: 설계PM, 시공PM, QC, 안전, 발주처
- 실시간 동시 편집 (Google Docs 방식)
- 변경이력 자동 추적 (Audit Trail)
- 승인 워크플로우 (IFC, AFC 도면 관리)
- 모바일 앱으로 현장 실시간 업데이트

---

## 6. SaaS 비즈니스 모델

### 6.1 요금 체계

| 플랜 | 대상 | 월 요금 (예상) | 기능 |
|------|------|---------------|------|
| **Starter** | 소규모 시공사 | $99/user | P&ID 뷰어, Line List, 엑셀 출력 |
| **Professional** | 중견 엔지니어링사 | $299/user | + AI 분석, MTO, 공정관리 |
| **Enterprise** | 대형 EPC/발주처 | $599/user | + 디지털 트윈, API, SSO, 전용 지원 |
| **Unlimited** | 글로벌 프로젝트 | 별도 협의 | + 온프레미스 옵션, 커스터마이징 |

### 6.2 수익 구조
- **구독료 (SaaS)**: 핵심 수익원 (MRR/ARR)
- **AI 크레딧**: 도면 분석 건당 과금 (대량 할인)
- **템플릿 마켓**: 업체별 커스텀 보고서 양식 거래
- **교육/인증**: PID-X 공인 교육 프로그램
- **컨설팅**: 대형 프로젝트 온보딩 + 커스터마이징

### 6.3 목표 시장 규모
- 글로벌 플랜트 EPC 시장: ~$1.5 Trillion/year
- 배관 설계/시공 관리 소프트웨어 시장: ~$5B/year (성장률 8%+)
- 초기 타겟: 한국 EPC 기업 (삼성엔지니어링, 현대건설, 대림, GS건설, SK건설)
- 확장: 중동/동남아 → 북미/유럽

---

## 7. 개발 로드맵

### Phase 1: MVP (3~6개월)
```
목표: 핵심 가치 검증 (P&ID → Line List → Excel)

  [Month 1-2] 기반 구축
  ├── PDF/이미지 업로드 + 뷰어
  ├── AI OCR 엔진 (텍스트 추출)
  └── 기본 데이터베이스 설계

  [Month 3-4] 핵심 기능
  ├── P&ID 심볼 인식 AI 모델 (v1)
  ├── Line List 자동 생성
  ├── 배관 사이즈 추출
  └── 엑셀 출력 기능

  [Month 5-6] 사용성
  ├── 웹 대시보드
  ├── 사용자 검증/편집 UI
  ├── 프로젝트 관리 기본
  └── 베타 테스트 (실제 프로젝트 적용)
```

### Phase 2: 핵심 확장 (6~12개월)
```
  ├── 공정 관리 모듈 (Gantt, CPM, S-Curve)
  ├── MTO (Material Take-Off) 자동 생성
  ├── Valve List / Instrument List 생성
  ├── AI 설계 검증 기능
  ├── 다중 도면 연계 분석
  └── 모바일 앱 (현장 진도 입력)
```

### Phase 3: 글로벌 확장 (12~24개월)
```
  ├── 다국어 지원
  ├── 디지털 트윈 연동
  ├── AI 챗봇 어시스턴트
  ├── ERP/SAP 연동 API
  ├── 글로벌 표준 템플릿 (Shell, Aramco, ADNOC 등)
  └── 온프레미스 배포 옵션
```

---

## 8. 기술적 도전과제 & 해결 전략

| 도전과제 | 난이도 | 해결 전략 |
|----------|--------|----------|
| P&ID 심볼 자동 인식 정확도 | ★★★★★ | 커스텀 YOLO 모델 + GPT-4 Vision 하이브리드, 30년 경력 도메인 전문가 라벨링 |
| 다양한 도면 표준 대응 | ★★★★☆ | ISA/IEC 표준 심볼 DB + 프로젝트별 커스텀 심볼 학습 |
| 배관 라인 연결 추적 | ★★★★☆ | Graph Neural Network 기반 라인 추적 알고리즘 |
| 대용량 도면 처리 성능 | ★★★☆☆ | 타일 기반 렌더링 + CDN + 비동기 처리 |
| 현장 오프라인 환경 | ★★★☆☆ | PWA + 로컬 캐시 + 자동 동기화 |
| 데이터 보안 (프로젝트 기밀) | ★★★★☆ | End-to-End 암호화, SOC2 인증, 데이터 격리 |

---

## 9. 경쟁 우위 & 차별화 요약

```
기존 솔루션들:
  SmartPlant P&ID ──── 설계만 가능, 시공 관리 불가, 고가
  AutoCAD P&ID ─────── 2D CAD 도구, 데이터 추출 불가
  Primavera ──────────── 스케줄만 관리, P&ID 연동 불가
  SAP ─────────────────── ERP 수준, P&ID 특화 아님

PID-X 차별화:
  ✅ AI 기반 P&ID 자동 분석 (세계 최초)
  ✅ 도면 → 데이터 → 시공관리 → 보고서 원스톱
  ✅ SaaS로 초기 비용 없이 즉시 사용
  ✅ 30년 현장 경험 기반 실용적 기능 설계
  ✅ 모바일 현장 관리 지원
  ✅ AI 챗봇으로 즉시 데이터 질의
  ✅ 글로벌 EPC 표준 양식 내장
```

---

## 10. 팀 구성 (필요 인력)

| 역할 | 인원 | 핵심 역량 |
|------|------|----------|
| **CTO / 프로세스 엔지니어** | 1명 | 30년 플랜트 경험 + 기술 비전 (본인) |
| Full-Stack 개발자 | 2명 | Next.js + Python + DB |
| AI/ML 엔지니어 | 1명 | Computer Vision, OCR, LLM |
| UI/UX 디자이너 | 1명 | 엔지니어링 도구 경험 |
| DevOps | 1명 | 클라우드, CI/CD, 보안 |
| **MVP 합계** | **6명** | |

---

## 11. 핵심 성공 지표 (KPI)

| 지표 | 1년 차 목표 | 3년 차 목표 |
|------|------------|------------|
| 도면 분석 정확도 | 85%+ | 95%+ |
| 가입 기업 수 | 50개사 | 500개사 |
| 월간 활성 사용자 | 500명 | 10,000명 |
| ARR (연 반복 매출) | $500K | $10M |
| 처리 도면 수 | 10,000장 | 500,000장 |
| 고객 만족도 (NPS) | 40+ | 60+ |

---

## 12. 입력 전략: Index vs Full - 어떻게 활용할 것인가?

### 최적의 2단계 입력 전략

```
┌─────────────────────────────────────────────────────────────┐
│                    PID-X 입력 파이프라인                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Step 1: Index 업로드 (빠른 프로젝트 셋업)                    │
│  ├── 3페이지, 2MB → 즉시 처리 (수 초)                        │
│  ├── 프로젝트 메타데이터 자동 생성                             │
│  ├── 도면 목록 + 심볼 범례 등록                               │
│  ├── General Notes → 프로젝트 규칙 DB화                      │
│  └── 결과: 프로젝트 뼈대 완성                                 │
│       │                                                      │
│       ▼                                                      │
│  Step 2: Full P&ID 업로드 (전체 데이터 추출)                  │
│  ├── 417페이지, 149MB → 백그라운드 처리 (수 분)               │
│  ├── 배관 라인 7,158개 자동 추출                              │
│  ├── 장비 태그 9,159개 자동 매핑                              │
│  ├── Hydro Test Package 1,471개 자동 생성                    │
│  ├── Golden Joint 17건 자동 식별                              │
│  ├── Rev 변경사항 자동 추적                                   │
│  └── 결과: 시공관리 가능한 완전한 데이터베이스                  │
│                                                              │
│  [Index: 목차 역할]  +  [Full: 본문 역할]  = 완전한 시스템    │
└─────────────────────────────────────────────────────────────┘
```

### Index만 올리면 안 되는 이유

| questions.md 질문 | Index로 가능? | Full로 가능? |
|-------------------|:---:|:---:|
| Q1. P&ID 분석/요약 | 도면 목록만 | 전체 프로세스 흐름 분석 |
| Q2. 배관 사이즈 작성 | **불가능** | 7,158개 라인 + 27종 사이즈 |
| Q3. 공정 프로그램 작성 | **불가능** | 1,471 Test Pkg 기반 스케줄 |
| Q4. 엑셀 출력 | 도면 목록만 | Line List, MTO, Test Pkg 전부 |

### Full만 올려도 되는가?

**가능하지만 비효율적.** Index를 먼저 올리면:
- 심볼 범례를 먼저 학습 → Full 분석 정확도 향상
- General Notes의 프로젝트 규칙(드레인 3/4" 기본 등) → 자동 검증 기준
- 도면 목록 → Full에서 누락된 도면 자동 감지

**권장 입력 방식**: Index 먼저 → Full 추가 (2단계)

---

## 13. 즉시 실행 가능한 다음 단계

### 프로토타입 v1 (2주) - Full P&ID 기반

기존 계획에서 대폭 업그레이드:

```
[Before - Index 기반 프로토타입]
  Input:  3페이지 Index PDF (이미지, OCR 필요)
  Output: 도면 목록 엑셀

[After - Full P&ID 기반 프로토타입]  ← 이것이 훨씬 강력
  Input:  417페이지 Full PDF (텍스트 추출 가능!)
  Output:
   ├── Line List (7,158개 라인) → Excel
   ├── Equipment List (9,159개) → Excel
   ├── Hydro Test Package List (1,471개) → Excel
   ├── Pipe Size 분포 차트 → Dashboard
   └── System별 Test Package 현황 → Dashboard
```

**핵심 발견**: Full PDF에서 텍스트가 추출 가능하므로, AI OCR 없이도 **정규식(Regex) + 패턴 매칭**만으로 MVP의 80%를 구현할 수 있다. 이는 개발 난이도와 비용을 대폭 낮춘다.

### 실행 순서

1. **즉시 (1주)**: Full PDF 텍스트 파서 개발 → Line List, Equipment List, Test Package 자동 추출 → 엑셀 출력
2. **2주차**: 웹 대시보드 (배관 사이즈 분포, 시스템별 현황, Test Package 진도)
3. **3~4주차**: P&ID 뷰어 + Test Boundary 색상 오버레이
4. **시장 검증**: 동료 배관 엔지니어 5~10명에게 실제 프로젝트 데이터로 데모
5. **사업계획서**: 정부 지원사업 (중기부 TIPS, 산업부 R&D) 신청

---

## 14. 기술적 발견: "텍스트 추출 가능" PDF의 전략적 의미

Full P&ID 분석 과정에서 **가장 중요한 기술적 발견**:

```
대아 P&ID Full PDF의 특성:
  ✅ pdfjs-dist(Node.js)로 텍스트 100% 추출 가능
  ✅ 페이지당 평균 8,000자의 구조화된 텍스트
  ✅ 장비 태그, 라인번호, 시험 패키지가 정규 패턴으로 존재
  ✅ Revision 정보가 텍스트로 포함

이것이 의미하는 것:
  → AI/OCR 없이도 정규식만으로 핵심 데이터 추출 가능
  → MVP 개발 비용 1/10로 절감
  → 정확도 95%+ 즉시 달성 가능
  → AI는 "이미지 전용 PDF"에 대한 확장 기능으로 나중에 추가
```

### 2트랙 전략

```
Track A (즉시 실행): 텍스트 추출 가능 PDF 처리
  ├── 기술: TypeScript + pdfjs-dist + Regex + exceljs (Supabase + Vercel)
  ├── 난이도: ★★☆☆☆
  ├── 기간: 2~4주
  ├── 커버리지: 최신 CAD 출력 PDF의 70%+
  └── 수익화: 즉시 가능

Track B (병행 개발): 이미지 전용 PDF 처리
  ├── 기술: YOLO + GPT-4 Vision + Custom OCR
  ├── 난이도: ★★★★★
  ├── 기간: 3~6개월
  ├── 커버리지: 스캔본, 구형 도면 포함 100%
  └── 차별화: 경쟁사 진입장벽
```

이 2트랙 전략이 PID-X를 **빠르게 시장에 진입**시키면서도 **장기 기술 해자**를 구축하는 최적의 경로이다.

---

*"배관 엔지니어가 만든, 배관 엔지니어를 위한, 세계 최고의 P&ID 관리 플랫폼"*

**PID-X: From Drawing to Delivery.**
